[{"categories":null,"contents":" Troubleshooting: Errorcheck within Splunk GUI\nindex=_internal log_level=ERROR source=\u0026#34;/opt/splunk/var/log/splunk/splunkd.log\u0026#34; Check Splunk version\n| rest splunk_server=* count=1 /services/server/info | table version host Index List indexes with the retention period\n| rest splunk_server=* /services/data/indexes | eval \u0026#34;Retention Period (months)\u0026#34;=round((frozenTimePeriodInSecs/2628000),0) | search NOT title IN (\u0026#34;_*\u0026#34;, \u0026#34;main\u0026#34;, \u0026#34;history\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;splunklogger\u0026#34;) | table title \u0026#34;Retention Period (months)\u0026#34; | rename title as Index ```for years, divide frozenTimePeriodInSecs/31556952; for days, divide frozenTimePeriodInSecs/86400``` Sourcetypes: Compare amount of events per sourcetype last 15 minutes with same 15 minutes last week\nindex=* earliest=-15m@m latest=@m | stats min(_time) as _time count as Count by sourcetype, index | eval Day=\u0026#34;Today\u0026#34; | fields Day, _time, Count, sourcetype, index | append [ search index=* earliest=-1w@m-15m latest=-1w@m | stats min(_time) as _time count as Count by sourcetype, index | eval Day=\u0026#34;Last week\u0026#34; | fields Day, _time, Count, sourcetype, index] | sort sourcetype``` Hosts Overview of hosts sending logs by index\n| tstats values(host) where index=* by index License Usage per day by index + percentages\nindex=_internal source=*license_usage.log type=\u0026#34;Usage\u0026#34; | bin _time span=1d | stats sum(b) as b by idx, _time | eval GB=round((b/31556952),2) | eventstats sum(GB) as total_GB by _time | eval percentage=round((GB/total_GB)*100,2) | sort -_time -GB | fields - b, total_GB | rename idx as Index, GB as \u0026#34;Size (GB)\u0026#34;, percentage as \u0026#34;Percentage (%)\u0026#34; | convert timeformat=\u0026#34;%Y-%m-%d\u0026#34; ctime(_time) as Date | fields Date, Index, \u0026#34;Size (GB)\u0026#34;, \u0026#34;Percentage (%)\u0026#34; ```for years, divide b/31556952; for days, divide b/31556952``` Users List users and their roles\n| rest /services/authentication/users splunk_server=local | fields title roles email | rename title as username ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/splunk/spl/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003c!-- Troubleshooting:  --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eTroubleshooting:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eErrorcheck within Splunk GUI\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eindex\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e_internal log_level\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eERROR source\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/opt/splunk/var/log/splunk/splunkd.log\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCheck Splunk version\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| rest splunk_server\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e* count\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e /services/server/info \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| table version host\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Index --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eIndex\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eList indexes with the retention period\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| rest splunk_server\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e* /services/data/indexes \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| eval \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Retention Period (months)\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003eround\u003cspan style=\"color:#f92672\"\u003e((\u003c/span\u003efrozenTimePeriodInSecs/2628000\u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e,0\u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| search NOT title IN \u003cspan style=\"color:#f92672\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;_*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;main\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;history\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;summary\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;splunklogger\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e)\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| table title \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Retention Period (months)\u0026#34;\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e| rename title as Index\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e```\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e years, divide frozenTimePeriodInSecs/31556952; \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e days, divide frozenTimePeriodInSecs/86400\u003cspan style=\"color:#e6db74\"\u003e```\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Sourcetype  --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eSourcetypes:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eCompare amount of events per sourcetype last 15 minutes with same 15 minutes last week\u003c/p\u003e","tags":null,"title":"Splunk searches"},{"categories":null,"contents":" Maintenance: Start Splunk\n/opt/splunk/bin/splunk start Stop Splunk\n/opt/splunk/bin/splunk stop Restart Splunk\n/opt/splunk/bin/splunk restart Check if Splunk is running\n/opt/splunk/bin/splunk status Reload a serverclass to push deployment apps without restarting Splunk\u0026quot;\n/opt/splunk/bin/splunk reload deploy-server -class [serverclass-name] Check license expiration date\n/opt/splunk/bin/splunk list licenses | grep \u0026#34;expiration_time\u0026#34; | awk -F\u0026#39;:\u0026#39; \u0026#39;{print $2}\u0026#39; | xargs -I{} date -d @{} +\u0026#34;%Y-%m-%d %H:%M:%S\u0026#34; List installed apps and their status\n/opt/splunk/bin/splunk list app List installed apps and their version (if found)\n/opt/splunk/bin/splunk list app | grep version /opt/splunk/etc/apps/*/default/app.conf Install an app\n/splunk install app \u0026lt;path to app.package\u0026gt; Update an app\n/splunk install app \u0026lt;path to app.package\u0026gt; -update 1 Remove an app\n/opt/splunk/bin/splunk remove app [appname] Check Splunk admins\n/opt/splunk/bin/splunk list user | grep admin -B2 Basic config: Enable Splunk service to start when the host boots up\n/opt/splunk/bin/splunk enable Disable Splunk service so it doesn\u0026rsquo;t start when the host boots up\n/opt/splunk/bin/splunk disable Extra: Find the startup message\ncat /opt/splunk/var/log/splunk/splunkd_stdout.log | grep \u0026#34;Splunk\u0026gt;\u0026#34; | tail -n 1 ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/splunk/cli/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003c!-- Maintenance: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eMaintenance:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eStart Splunk\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk start\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eStop Splunk\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk stop\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eRestart Splunk\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk restart\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCheck if Splunk is running\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk status\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReload a serverclass to push deployment apps without restarting Splunk\u0026quot;\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk reload deploy-server -class \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eserverclass-name\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCheck license expiration date\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk list licenses | grep \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;expiration_time\u0026#34;\u003c/span\u003e | awk -F\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;{print $2}\u0026#39;\u003c/span\u003e | xargs -I\u003cspan style=\"color:#f92672\"\u003e{}\u003c/span\u003e date -d @\u003cspan style=\"color:#f92672\"\u003e{}\u003c/span\u003e +\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%Y-%m-%d %H:%M:%S\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eList installed apps and their status\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/opt/splunk/bin/splunk list app\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eList installed apps and their version (if found)\u003c/p\u003e","tags":null,"title":"Splunk CLI commands"},{"categories":null,"contents":" Upgrade procedure: Splunk Upgrade Guide This document provides a step-by-step procedure to upgrade Splunk from an existing version to a newer release. Follow each section carefully to ensure a smooth upgrade process.\nTable of Contents Preparation Download and Transfer Files Pre-Upgrade Checks Device State Management Backup Current Configuration Install the New Version Post-Upgrade Verification Documentation and Communication 1. Preparation Ensure you have access to the target devices and necessary permissions. Confirm the current Splunk version. Notify customer and colleagues about the upcoming upgrade. Review release notes for the target version. 2. Download and Transfer Files Download the Splunk Installer You can use the wget command to download the package on the host wget -O splunk---Linux-x86_64.tgz \u0026ldquo;https://download.splunk.com/products/splunk/releases//linux/splunk---Linux-x86_64.tgz\u0026rdquo;\nsudo -i cd /tmp wget -O splunk-9.4.3-237ebbd22314-linux-amd64.tgz \u0026#34;https://download.splunk.com/products/splunk/releases/9.4.3/linux/splunk-9.4.3-237ebbd22314-linux-amd64.tgz\u0026#34; Transfer the Installer to Target Devices Use WinSCP or similar tools to connect and send to the device: put \u0026ldquo;path\\to\\splunk---Linux-x86_64.tgz\u0026rdquo; \u0026ldquo;/tmp/splunk---Linux-x86_64.tgz\u0026rdquo;\nset path=C:\\Program Files (x86)\\WinSCP;%path% winscp sftp://\u0026lt;CLI-account\u0026gt;@\u0026lt;device_NAT_IP\u0026gt;:/tmp put \u0026#34;path\\to\\splunk-9.4.3-237ebbd22314-linux-amd64.tgz\u0026#34; \u0026#34;/tmp/splunk-9.4.3-237ebbd22314-linux-amd64.tgz\u0026#34; Use SCP on more recent windows machines or on Linux:\nscp \u0026#34;path\\to\\splunk-9.4.3-237ebbd22314-linux-amd64.tgz\u0026#34; user@remote-ip:\u0026#34;/tmp/splunk-9.4.3-237ebbd22314-linux-amd64.tgz\u0026#34; 3. Pre-Upgrade Checks Check if Splunk has an active process:\nps -ef | grep splunk Check if Splunk is running:\n/opt/splunk/bin/splunk status Check Splunk version:\n/opt/splunk/bin/splunk --version 4. Device State Management Check whether a monitoring needs to set the host in maintenance mode\nOn Splunk in environments with index clusters: Maintenance mode halts most bucket fixup activity and prevents frequent rolling of hot buckets. It is useful when performing peer upgrades and other maintenance activities on an indexer cluster. Enable maintenance mode:\n/opt/splunk/bin/splunk enable maintenance-mode Disable maintenance mode:\n/opt/splunk/bin/splunk disable maintenance-mode Enable maintenance mode:\n/opt/splunk/bin/splunk show maintenance-mode 5. Backup Current Configuration Check KV Store status\n/opt/splunk/bin/splunk show kvstore-status Backup KV Store\n/opt/splunk/bin/splunk backup kvstore Check backup\nls -la /opt/splunk/var/lib/splunk/kvstorebackup/ Backup config files\nsudo -i cd /tmp mkdir /tmp/etc_backup$(date +\u0026#34;%d-%m-%Y\u0026#34;) cp -a /opt/splunk/etc/ /tmp/etc_backup$(date +\u0026#34;%d-%m-%Y\u0026#34;)/ Check backup\nls /tmp/etc_backup$(date +\u0026#34;%d-%m-%Y\u0026#34;)/etc 6. Install the New Version stop splunk using Splunk command\n/opt/splunk/bin/splunk stop stop splunk using systemctl command\nsystemctl stop splunk Unpack the Installer\ntar -xvzf /tmp/splunk-9.4.3-237ebbd22314-linux-amd64.tgz -C /opt/ Change the owner of the Splunk folder recursively with the account running Splunk\nchown -R splunk.splunk /opt/splunk Since I\u0026rsquo;m using a splunk user account (created without elevated privileges) to run splunk, I am switching to the account\nsu - splunk Start Splunk with License Acceptance\n/opt/splunk/bin/splunk start --accept-license --answer-yes 7. Post-Upgrade Verification Check if Splunk is running\n/opt/splunk/bin/splunk status Check recent logs for errors\ntail -20f /opt/splunk/var/log/splunk/splunkd.log Check Splunk version\n/opt/splunk/bin/splunk --version Check if Splunk service is run by splunk user\nps -ef | grep splunkd | grep -v grep 8. Documentation and Communication Update internal documentation with the new version details. Notify customer and colleagues of the successful upgrade. Share release notes and any post-upgrade instructions. ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/splunk/splunk-upgrade/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003c!-- Upgrade procedure: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eUpgrade procedure:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch1 id=\"splunk-upgrade-guide\"\u003eSplunk Upgrade Guide\u003c/h1\u003e\n\u003cp\u003eThis document provides a step-by-step procedure to upgrade Splunk from an existing version to a newer release. Follow each section carefully to ensure a smooth upgrade process.\u003c/p\u003e\n\u003ch2 id=\"table-of-contents\"\u003eTable of Contents\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003ePreparation\u003c/li\u003e\n\u003cli\u003eDownload and Transfer Files\u003c/li\u003e\n\u003cli\u003ePre-Upgrade Checks\u003c/li\u003e\n\u003cli\u003eDevice State Management\u003c/li\u003e\n\u003cli\u003eBackup Current Configuration\u003c/li\u003e\n\u003cli\u003eInstall the New Version\u003c/li\u003e\n\u003cli\u003ePost-Upgrade Verification\u003c/li\u003e\n\u003cli\u003eDocumentation and Communication\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"1-preparation\"\u003e1. Preparation\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eEnsure you have access to the target devices and necessary permissions.\u003c/li\u003e\n\u003cli\u003eConfirm the current Splunk version.\u003c/li\u003e\n\u003cli\u003eNotify customer and colleagues about the upcoming upgrade.\u003c/li\u003e\n\u003cli\u003eReview release notes for the target version.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"2-download-and-transfer-files\"\u003e2. Download and Transfer Files\u003c/h2\u003e\n\u003ch3 id=\"download-the-splunk-installer\"\u003eDownload the Splunk Installer\u003c/h3\u003e\n\u003cp\u003eYou can use the wget command to download the package on the host\nwget -O splunk-\u003cversion\u003e-\u003chash\u003e-Linux-x86_64.tgz \u0026ldquo;\u003ca href=\"https://download.splunk.com/products/splunk/releases/\" target=\"_blank\" rel=\"noopener\"\u003ehttps://download.splunk.com/products/splunk/releases/\u003c/a\u003e\u003cversion\u003e/linux/splunk-\u003cversion\u003e-\u003chash\u003e-Linux-x86_64.tgz\u0026rdquo;\u003c/p\u003e","tags":null,"title":"Splunk Upgrade procedure"},{"categories":null,"contents":" Troubleshooting (files): Find a file or directory\nfind / -type f -name \u0026#34;filename\u0026#34; 2\u0026gt;/dev/null find / -type d -name \u0026#34;dirname\u0026#34; 2\u0026gt;/dev/null find files that contain a pattern\nfind . -type f -exec grep -l \u0026#39;version\u0026#39; {} \\; Troubleshooting (system): Check logs if a service has executed/failed before (I needed to check if logrotate was running daily, also checked for rsyslog after)\njournalctl | grep logrotate check if machine is a vm or barebone\ndmidecode -s system-manufacturer check folder disk usage\ndu -hs * | sort -h check open port\n(echo \u0026gt; /dev/tcp/10.254.4.54/22) \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 \u0026amp;\u0026amp; echo \u0026#34;It\u0026#39;s up\u0026#34; || echo \u0026#34;It\u0026#39;s down\u0026#34; check for listening ports\nsudo lsof -i -P -n | grep LISTEN sudo netstat -tulpn | grep LISTEN sudo ss -tulpn | grep LISTEN sudo lsof -i:22 ## see a specific port such as 22 ## sudo nmap -sTU -O IP-address-Here Troubleshooting (SSL): Check expiry date on .pem file\nopenssl x509 -enddate -noout -in /path/to/certificate.pem Maintenance: dry-run an update on OS\nsudo yum check-update Check if a reboot is required\nneeds-restarting -r remove cache of updates for old data\nrm -rf /var/cache/yum block icmp\nsysctl -w net.ipv4.icmp_echo_ignore_all=1 File manipulation: remove empty lines from file\nsed -i \u0026#39;/^$/d\u0026#39; \u0026lt;filename\u0026gt; Account control: change to root\nsudo -i Grep sudo users\nrm -f /tmp/names; for user in $(getent passwd | cut -d: -f1); do count=$((count+1)); if sudo -l -U \u0026#34;$user\u0026#34; | grep -q \u0026#34;ALL\u0026#34;; then echo \u0026#34;$user\u0026#34; \u0026gt;\u0026gt; /tmp/names; echo \u0026#34;Checked $count of $(getent passwd | cut -d: -f1 | wc -l) users.\u0026#34;; fi; done; clear; cat /tmp/names; rm -f /tmp/names ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/linux/cli/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003c!-- Troubleshooting: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eTroubleshooting (files):\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eFind a file or directory\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efind / -type f -name \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;filename\u0026#34;\u003c/span\u003e 2\u0026gt;/dev/null\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efind / -type d -name \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;dirname\u0026#34;\u003c/span\u003e 2\u0026gt;/dev/null\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003efind files that contain a pattern\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efind . -type f -exec grep -l \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;version\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e{}\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Troubleshooting: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eTroubleshooting (system):\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eCheck logs if a service has executed/failed before (I needed to check if logrotate was running daily, also checked for rsyslog after)\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ejournalctl | grep logrotate\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003echeck if machine is a vm or barebone\u003c/p\u003e","tags":null,"title":"Linux Bash commands"},{"categories":null,"contents":" Logrotate Configuration Cheat Sheet: This cheat sheet provides an extensive list of Logrotate configuration directives, their descriptions, and examples.\nUse this as a quick reference to master log rotation on Unix-like systems.\nBasic structure: Each configuration block is tied to a log file or set of log files. Example:\n/var/log/example.log { daily rotate 7 compress missingok notifempty create 0640 root adm } Configuration Directives \u0026amp; Examples: Basic Settings: rotate \u0026lt;count\u0026gt;\nKeep number of old log files before deleting them.\ndaily | weekly | monthly | yearly\nFrequency of rotation.\nCompression Options: compress\nCompress old versions of log files with gzip.\nnocompress\nDo not compress old logs.\ndelaycompress\nPostpone compression to the next rotation cycle (used with compress).\nFile Handling: missingok\nIgnore missing log files and don’t issue an error.\nnotifempty\nDo not rotate the log if it is empty.\nifempty\nRotate the log even if it is empty (default behavior).\ncreate \u0026lt;mode\u0026gt; \u0026lt;owner\u0026gt; \u0026lt;group\u0026gt;\nCreate a new log file with specified permissions.\ncopy\nMake a copy of the log file and truncate the original.\ncopytruncate\nTruncate the original log file after copying it (useful for active logs).\nDate \u0026amp; Naming: dateext\nAppend an extension with the current date to rotated log files.\ndateformat .%Y-%m-%d\nCustom format for dateext (e.g., .2025-06-06).\nextension \u0026lt;ext\u0026gt;\nForce specific extension for rotated files (e.g., .log).\nSize-Based Rotation: maxage \u0026lt;days\u0026gt;\nRemove rotated logs older than .\nminsize \u0026lt;size\u0026gt;\nRotate only if log size is above .\nsize \u0026lt;size\u0026gt;\nRotate if log file size meets threshold, regardless of time.\nmaxsize \u0026lt;size\u0026gt;\nDo not rotate if log is larger than specified size.\nDirectory \u0026amp; Scripts: olddir \u0026lt;dir\u0026gt;\nMove rotated logs to a specified directory.\nsharedscripts\nRun postrotate script once for all matching logs.\npostrotate/endscript\nScript to run after log rotation.\nprerotate/endscript\nScript to run before log rotation.\nfirstaction/endscript\nRun only once before rotation begins (before prerotate).\nlastaction/endscript\nRun once after rotation finishes (after postrotate).\ntabooext + \u0026lt;ext\u0026gt;\nTreat additional extensions as taboo (not rotated).\nFull Example Configuration: /var/log/myapp/*.log { daily rotate 10 size 100M compress delaycompress missingok notifempty create 0640 appuser adm sharedscripts postrotate systemctl reload myapp \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 || true endscript } Tips: Run logrotate -d \u0026lt;config\u0026gt; to debug your config without applying changes. Use logrotate -f \u0026lt;config\u0026gt; to force rotation for testing. Logrotate is typically triggered via cron or systemd timers. Keep your config DRY by centralizing shared logic in /etc/logrotate.conf and using includes. ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/linux/logrotate/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eLogrotate Configuration Cheat Sheet:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cblockquote\u003e\n\u003cp\u003eThis cheat sheet provides an extensive list of Logrotate configuration directives, their descriptions, and examples.\u003cbr\u003e\nUse this as a quick reference to master log rotation on Unix-like systems.\u003c/p\u003e\u003c/blockquote\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eBasic structure:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eEach configuration block is tied to a log file or set of log files. Example:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e/var/log/example.log \u003cspan style=\"color:#f92672\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    daily\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    rotate \u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    compress\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    missingok\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    notifempty\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    create \u003cspan style=\"color:#ae81ff\"\u003e0640\u003c/span\u003e root adm\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eConfiguration Directives \u0026amp; Examples:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch4 id=\"basic-settings\"\u003eBasic Settings:\u003c/h4\u003e\n\u003cp\u003e\u003ccode\u003erotate \u0026lt;count\u0026gt;\u003c/code\u003e\u003cbr\u003e\nKeep \u003ccount\u003e number of old log files before deleting them.\u003c/p\u003e","tags":null,"title":"Logrotate config"},{"categories":null,"contents":" LVM cheatsheet Acronyms you must know PV = Physical Volume VG = Volume Group LV = Logical Volume PV1 PV2 PV3 PV4 \\ | | / VG1 VG2 | | \\ LV1 LV2 LV3 Step-by-Step LVM Setup 1. Add a Physical Disk connect a physical/virtual disk to your system.\nOverview of block devices\nlsblk Used/available space on mounted filesystems\ndf -h 2. Create Physical Volumes Info\npvck # Check PV metadata pvdisplay # Display PV attributes pvs # Report PV information pvscan # Scan for PVs Create\npvcreate /dev/sda /dev/sdb /dev/sdc /dev/sdd Delete\npvremove /dev/sdX Edit\npvchange # Change PV attributes pvmove # Move physical extents pvresize # Resize PV 3. Create Volume Groups Info\nvgck # Check VG metadata vgdisplay # VG attributes vgs # Report VG info vgscan # Scan for VGs Create\nvgcreate vg0 /dev/sda Delete\nvgremove vg_name Edit\nvgcfgbackup # Backs up volume group (VG) metadata vgcfgrestore # Restores VG metadata from backup vgchange # Change VG attributes vgconvert # Metadata format change vgexport # Exports a VG to make it unknown to the system vgimport # Imports a VG previously exported vgimportclone # Imports and renames a VG to avoid conflicts vgmerge # Merges two VGs into one vgsplit # Splits a VG into two separate VGs vgextend vg0 /dev/sdc /dev/sdd # Adds physical volumes to a VG vgreduce # Removes physical volumes from a VG vgrename # Renames a VG vgmknodes # Recreates device nodes for LVM devices 4. Create Logical Volumes Info\nlvdisplay # Show LV attributes lvmdiskscan # Scan for devices lvs # Report info lvscan # Scan for LVs Create\nlvcreate -n lvbackup -L 50G vgbackup -r Delete\nlvremove /dev/vg_name/lv_name Edit\nlvchange # Change LV attributes lvconvert # Mirror/snapshot conversion lvextend /dev/vg_name/lv_name lvreduce # Reduce size lvresize # Resize lvrename # Rename resize2fs /dev/vg0/lv_root # Resize filesystem xfs_growfs -d /dev/vg-group-name/lv-name 5. Create a filesystem on your Logical Volume mkfs.ext4 /dev/vgbackup/lvbackup 6. Mounting the Logical Volume blkid /dev/vgbackup/lvbackup # Get UUID mkdir /path/to/folder # Mount point vim /etc/fstab # Add entry with UUID mount -a # Mount all from fstab Overview Commands pvs # List physical volumes vgs # List volume groups lvs # List logical volumes pvdisplay vgdisplay lvdisplay Snapshotting lvcreate --size 1G --snapshot --name snap_name /dev/vg0/lvdata lvconvert --merge /dev/vg0/snap_name Filesystem Resize After LV Resize lvextend -L +10G /dev/vgbackup/lvbackup resize2fs /dev/vgbackup/lvbackup xfs_growfs /path/to/your/mount/point Helpful Tips Always back up metadata: vgcfgbackup Reload partition tables without rebooting: partprobe /dev/sdX ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/linux/lvm/lvm_cheatsheet/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eLVM cheatsheet\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch2 id=\"acronyms-you-must-know\"\u003eAcronyms you must know\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003ePV\u003c/strong\u003e = Physical Volume\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eVG\u003c/strong\u003e = Volume Group\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eLV\u003c/strong\u003e = Logical Volume\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e    PV1  PV2   PV3  PV4\n      \\  |      |  /\n       VG1      VG2\n        |       |  \\ \n       LV1     LV2  LV3\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch2 id=\"step-by-step-lvm-setup\"\u003eStep-by-Step LVM Setup\u003c/h2\u003e\n\u003ch3 id=\"1-add-a-physical-disk\"\u003e1. Add a Physical Disk\u003c/h3\u003e\n\u003cp\u003econnect a physical/virtual disk to your system.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eOverview of block devices\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003elsblk\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eUsed/available space on mounted filesystems\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edf -h\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch3 id=\"2-create-physical-volumes\"\u003e2. Create Physical Volumes\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eInfo\u003c/strong\u003e\u003c/p\u003e","tags":null,"title":"LVM cheatsheet"},{"categories":null,"contents":" fdisk cheatsheet: fdisk is a powerful, text-based utility used to create, delete, and manage disk partitions in Linux systems. It supports MBR (Master Boot Record) partition tables and is best suited for systems not using GPT (GUID Partition Table).\nBasic syntax fdisk [options] /dev/sdX Where /dev/sdX is the disk you want to operate on (e.g., /dev/sda, /dev/sdb).\nAlways double-check the disk name to avoid data loss.\nKey commands in fdisk interactive mode Command Description m Print help menu p Display existing partition table n Create a new partition d Delete a partition t Change a partition\u0026rsquo;s system ID (type) a Toggle bootable flag w Write changes and exit q Quit without saving changes Common workflow examples 1. View partition table\nsudo fdisk -l Lists all disks and their partitions.\n2. Start fdisk on a specific disk\nsudo fdisk /dev/sdX Enters interactive mode.\n3. Create a new partition\nCommand (m for help): n Select default or choose primary (p) or extended (e) Partition number: 1 First sector: [Press Enter to accept default] Last sector: +1G # or specify size like +20G 4. Change partition type\nCommand (m for help): t Partition number: 1 Hex code (type L for list): 83 # Linux filesystem 5. Set bootable flag\nCommand (m for help): a Partition number: 1 6. Write changes to disk\nCommand (m for help): w Writes the partition table to disk and exits.\n7. Quit without saving\nCommand (m for help): q Exits without modifying the disk.\nImportant options -f # Use a script file -l # List partition tables for all devices -u # Display sectors in cylinders or sectors Partition type codes Code Filesystem Type 83 Linux 82 Linux swap 7 HPFS/NTFS/exFAT b W95 FAT32 c W95 FAT32 (LBA) a5 FreeBSD To list all type codes:\nCommand (m for help): L Post partitioning After creating partitions, always format them:\nmkfs.ext4 /dev/sdX1 mkfs.vfat /dev/sdX2 Mount the partition:\nmount /dev/sdX1 /mnt/mydisk Helpful tips Use partprobe or reboot after changing partition table: sudo partprobe /dev/sdX Use lsblk or blkid to view and identify new partitions: lsblk blkid ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/linux/fdisk/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003efdisk cheatsheet:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003efdisk is a powerful, text-based utility used to create, delete, and manage disk partitions in Linux systems. It supports MBR (Master Boot Record) partition tables and is best suited for systems not using GPT (GUID Partition Table).\u003c/p\u003e\n\u003ch2 id=\"basic-syntax\"\u003eBasic syntax\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003efdisk \u003cspan style=\"color:#f92672\"\u003e[\u003c/span\u003eoptions\u003cspan style=\"color:#f92672\"\u003e]\u003c/span\u003e /dev/sdX\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eWhere \u003ccode\u003e/dev/sdX\u003c/code\u003e is the disk you want to operate on (e.g., \u003ccode\u003e/dev/sda\u003c/code\u003e, \u003ccode\u003e/dev/sdb\u003c/code\u003e).\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAlways double-check the disk name to avoid data loss.\u003c/p\u003e","tags":null,"title":"fdisk"},{"categories":null,"contents":" TCPDump cheatsheet General Syntax tcpdump [options] [expression]\nPacket Capturing Options Switch Syntax Description -i any tcpdump -i any Capture from all interfaces -i eth0 tcpdump -i eth0 Capture from specific interface ( Ex Eth0) -c tcpdump -i eth0 -c 10 Capture first 10 packets and exit -D tcpdump -D Show available interfaces -A tcpdump -i eth0 -A Print in ASCII -w tcpdump -i eth0 -w tcpdump.txt To save capture to a file -r tcpdump -r tcpdump.txt Read and analyze saved capture file -n tcpdump -n -I eth0 Do not resolve host names -nn tcpdump -n -i eth0 Stop Domain name translation and lookups (Host names or port names ) tcp tcpdump -i eth0 -c 10 -w tcpdump.pcap tcp Capture TCP packets only port tcpdump -i eth0 port 80 Capture traffic from a defined port only host tcpdump host 192.168.1.100 Capture packets from specific host net tcpdump net 10.1.1.0/16 Capture files from network subnet src tcpdump src 10.1.1.100 Capture from a specific source address dst tcpdump dst 10.1.1.100 Capture from a specific destination address \u0026lt;service\u0026gt; tcpdump http Filter traffic based on a port number for a service \u0026lt;port\u0026gt; tcpdump port 80 Filter traffic based on a service port range tcpdump portrange 21-125 Filter based on port range -S tcpdump -S http Display entire packet ipv6 tcpdunp -IPV6 Show only IPV6 packets -d tcpdump -d tcpdump.pcap display human readable form in standard output -F tcpdump -F tcpdump.pcap Use the given file as input for filter -I tcpdump -I eth0 set interface as monitor mode -L tcpdump -L Display data link types for the interface -N tcpdump -N tcpdump.pcap not printing domian names -K tcpdump -K tcpdump.pcap Do not verify checksum -p tcpdump -p -i eth0 Not capturing in promiscuous mode Logical Operators Operator Syntax Example Description AND and, \u0026amp;\u0026amp; tcpdump -n src 192.168.1.1 and dst port 21 Combine filtering options OR or, EXCEPT not, ! tcpdump dst 10.1.1.1 and not icmp Negation of the condition LESS \u0026lt; tcpdump \u0026lt;32 Shows packets size less than 32 GREATER \u0026gt; tcpdump \u0026gt;=32 Shows packets size greater than 32 Output options Switch Description -q Quite and less verbose mode display less details -t Do not print time stamp details in dump -v Little verbose output -vv More verbose output -vvv Most verbose output -x Print data and headers in HEX format -xx Print data with link headers in HEX format -X Print output in HEX and ASCII format excluding link headers -XX Print output in HEX and ASCII format including link headers -e Print Link (Ethernet) headers -S Print sequence numbers in exact format Protocols Ether fddi icmp ip ip6 ppp radio rarp slip tcp udp wlan Common Commands with Protocols for Filtering Captures Command Description src/ dsthost (host name or IP) Filter by source or destination IP address or host ether src/ dst host (ethernet host name or IP) Ethernet host filtering by source or destination src/ dstnet (subnet mask in CIDR) Filter by subnet tcp/udp src/dst port ( port number) Filter TCP or UDP packets by source or destination port tcp/udp src/dst port range ( port number range) Filter TCP or UDP packets by source or destination port range ether/ip broadcast Filter for Ethernet or IP broadcasts ether/ip multicast Filter for Ethernet or IP multicasts ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/linux/tcpdump/tcpdump_cheatsheet/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eTCPDump cheatsheet\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch1 id=\"general-syntax\"\u003eGeneral Syntax\u003c/h1\u003e\n\u003cp\u003etcpdump [options] [expression]\u003c/p\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1 id=\"packet-capturing-options\"\u003ePacket Capturing Options\u003c/h1\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eSwitch\u003c/th\u003e\n          \u003cth\u003eSyntax\u003c/th\u003e\n          \u003cth\u003eDescription\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-i any\u003c/td\u003e\n          \u003ctd\u003etcpdump -i any\u003c/td\u003e\n          \u003ctd\u003eCapture from all interfaces\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-i eth0\u003c/td\u003e\n          \u003ctd\u003etcpdump -i eth0\u003c/td\u003e\n          \u003ctd\u003eCapture from specific interface ( Ex Eth0)\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-c\u003c/td\u003e\n          \u003ctd\u003etcpdump -i eth0 -c 10\u003c/td\u003e\n          \u003ctd\u003eCapture first 10 packets and exit\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-D\u003c/td\u003e\n          \u003ctd\u003etcpdump -D\u003c/td\u003e\n          \u003ctd\u003eShow available interfaces\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-A\u003c/td\u003e\n          \u003ctd\u003etcpdump -i eth0 -A\u003c/td\u003e\n          \u003ctd\u003ePrint in ASCII\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-w\u003c/td\u003e\n          \u003ctd\u003etcpdump -i eth0 -w tcpdump.txt\u003c/td\u003e\n          \u003ctd\u003eTo save capture to a file\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-r\u003c/td\u003e\n          \u003ctd\u003etcpdump -r tcpdump.txt\u003c/td\u003e\n          \u003ctd\u003eRead and analyze saved capture file\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-n\u003c/td\u003e\n          \u003ctd\u003etcpdump -n -I eth0\u003c/td\u003e\n          \u003ctd\u003eDo not resolve host names\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-nn\u003c/td\u003e\n          \u003ctd\u003etcpdump -n -i eth0\u003c/td\u003e\n          \u003ctd\u003eStop Domain name translation and lookups (Host names or port names )\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003etcp\u003c/td\u003e\n          \u003ctd\u003etcpdump -i eth0 -c 10 -w tcpdump.pcap tcp\u003c/td\u003e\n          \u003ctd\u003eCapture TCP packets only\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eport\u003c/td\u003e\n          \u003ctd\u003etcpdump -i eth0 port 80\u003c/td\u003e\n          \u003ctd\u003eCapture traffic from a defined port only\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003ehost\u003c/td\u003e\n          \u003ctd\u003etcpdump host 192.168.1.100\u003c/td\u003e\n          \u003ctd\u003eCapture packets from specific host\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003enet\u003c/td\u003e\n          \u003ctd\u003etcpdump net 10.1.1.0/16\u003c/td\u003e\n          \u003ctd\u003eCapture files from network subnet\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003esrc\u003c/td\u003e\n          \u003ctd\u003etcpdump src 10.1.1.100\u003c/td\u003e\n          \u003ctd\u003eCapture from a specific source address\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003edst\u003c/td\u003e\n          \u003ctd\u003etcpdump dst 10.1.1.100\u003c/td\u003e\n          \u003ctd\u003eCapture from a specific destination address\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e\u0026lt;service\u0026gt;\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003etcpdump http\u003c/td\u003e\n          \u003ctd\u003eFilter traffic based on a port number for a service\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e\u003ccode\u003e\u0026lt;port\u0026gt;\u003c/code\u003e\u003c/td\u003e\n          \u003ctd\u003etcpdump port 80\u003c/td\u003e\n          \u003ctd\u003eFilter traffic based on a service\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eport range\u003c/td\u003e\n          \u003ctd\u003etcpdump portrange 21-125\u003c/td\u003e\n          \u003ctd\u003eFilter based on port range\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-S\u003c/td\u003e\n          \u003ctd\u003etcpdump -S http\u003c/td\u003e\n          \u003ctd\u003eDisplay entire packet\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eipv6\u003c/td\u003e\n          \u003ctd\u003etcpdunp -IPV6\u003c/td\u003e\n          \u003ctd\u003eShow only IPV6 packets\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-d\u003c/td\u003e\n          \u003ctd\u003etcpdump -d tcpdump.pcap\u003c/td\u003e\n          \u003ctd\u003edisplay human readable form in standard output\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-F\u003c/td\u003e\n          \u003ctd\u003etcpdump -F tcpdump.pcap\u003c/td\u003e\n          \u003ctd\u003eUse the given file as input for filter\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-I\u003c/td\u003e\n          \u003ctd\u003etcpdump -I eth0\u003c/td\u003e\n          \u003ctd\u003eset interface as monitor mode\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-L\u003c/td\u003e\n          \u003ctd\u003etcpdump -L\u003c/td\u003e\n          \u003ctd\u003eDisplay data link types for the interface\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-N\u003c/td\u003e\n          \u003ctd\u003etcpdump -N tcpdump.pcap\u003c/td\u003e\n          \u003ctd\u003enot printing domian names\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-K\u003c/td\u003e\n          \u003ctd\u003etcpdump -K tcpdump.pcap\u003c/td\u003e\n          \u003ctd\u003eDo not verify checksum\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-p\u003c/td\u003e\n          \u003ctd\u003etcpdump -p -i eth0\u003c/td\u003e\n          \u003ctd\u003eNot capturing in promiscuous mode\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch1 id=\"logical-operators\"\u003eLogical Operators\u003c/h1\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eOperator\u003c/th\u003e\n          \u003cth\u003eSyntax\u003c/th\u003e\n          \u003cth\u003eExample\u003c/th\u003e\n          \u003cth\u003eDescription\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eAND\u003c/td\u003e\n          \u003ctd\u003eand, \u0026amp;\u0026amp;\u003c/td\u003e\n          \u003ctd\u003etcpdump -n src 192.168.1.1 and dst port 21\u003c/td\u003e\n          \u003ctd\u003eCombine filtering options\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eOR\u003c/td\u003e\n          \u003ctd\u003eor,\u003c/td\u003e\n          \u003ctd\u003e\u003c/td\u003e\n          \u003ctd\u003e\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eEXCEPT\u003c/td\u003e\n          \u003ctd\u003enot, !\u003c/td\u003e\n          \u003ctd\u003etcpdump dst 10.1.1.1 and not icmp\u003c/td\u003e\n          \u003ctd\u003eNegation of the condition\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eLESS\u003c/td\u003e\n          \u003ctd\u003e\u0026lt;\u003c/td\u003e\n          \u003ctd\u003etcpdump \u0026lt;32\u003c/td\u003e\n          \u003ctd\u003eShows packets size less than 32\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eGREATER\u003c/td\u003e\n          \u003ctd\u003e\u0026gt;\u003c/td\u003e\n          \u003ctd\u003etcpdump \u0026gt;=32\u003c/td\u003e\n          \u003ctd\u003eShows packets size greater than 32\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch1 id=\"output-options\"\u003eOutput options\u003c/h1\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eSwitch\u003c/th\u003e\n          \u003cth\u003eDescription\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-q\u003c/td\u003e\n          \u003ctd\u003eQuite and less verbose mode display less details\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-t\u003c/td\u003e\n          \u003ctd\u003eDo not print time stamp details in dump\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-v\u003c/td\u003e\n          \u003ctd\u003eLittle verbose output\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-vv\u003c/td\u003e\n          \u003ctd\u003eMore verbose output\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-vvv\u003c/td\u003e\n          \u003ctd\u003eMost verbose output\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-x\u003c/td\u003e\n          \u003ctd\u003ePrint data and headers in HEX format\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-xx\u003c/td\u003e\n          \u003ctd\u003ePrint data with link headers in HEX format\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-X\u003c/td\u003e\n          \u003ctd\u003ePrint output in HEX and ASCII format excluding link headers\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-XX\u003c/td\u003e\n          \u003ctd\u003ePrint output in HEX and ASCII format including link headers\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-e\u003c/td\u003e\n          \u003ctd\u003ePrint Link (Ethernet) headers\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003e-S\u003c/td\u003e\n          \u003ctd\u003ePrint sequence numbers in exact format\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch1 id=\"protocols\"\u003eProtocols\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eEther\u003c/li\u003e\n\u003cli\u003efddi\u003c/li\u003e\n\u003cli\u003eicmp\u003c/li\u003e\n\u003cli\u003eip\u003c/li\u003e\n\u003cli\u003eip6\u003c/li\u003e\n\u003cli\u003eppp\u003c/li\u003e\n\u003cli\u003eradio\u003c/li\u003e\n\u003cli\u003erarp\u003c/li\u003e\n\u003cli\u003eslip\u003c/li\u003e\n\u003cli\u003etcp\u003c/li\u003e\n\u003cli\u003eudp\u003c/li\u003e\n\u003cli\u003ewlan\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"common-commands-with-protocols-for-filtering-captures\"\u003eCommon Commands with Protocols for Filtering Captures\u003c/h1\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003eCommand\u003c/th\u003e\n          \u003cth\u003eDescription\u003c/th\u003e\n      \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003esrc/ dsthost (host name or IP)\u003c/td\u003e\n          \u003ctd\u003eFilter by source or destination IP address or host\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eether src/ dst host (ethernet host name or IP)\u003c/td\u003e\n          \u003ctd\u003eEthernet host filtering by source or destination\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003esrc/ dstnet (subnet mask in CIDR)\u003c/td\u003e\n          \u003ctd\u003eFilter by subnet\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003etcp/udp src/dst port ( port number)\u003c/td\u003e\n          \u003ctd\u003eFilter TCP or UDP packets by source or destination port\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003etcp/udp src/dst port range ( port number range)\u003c/td\u003e\n          \u003ctd\u003eFilter TCP or UDP packets by source or destination port range\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eether/ip broadcast\u003c/td\u003e\n          \u003ctd\u003eFilter for Ethernet or IP broadcasts\u003c/td\u003e\n      \u003c/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eether/ip multicast\u003c/td\u003e\n          \u003ctd\u003eFilter for Ethernet or IP multicasts\u003c/td\u003e\n      \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","tags":null,"title":"TCPDump cheatsheet"},{"categories":null,"contents":" Script: add sudo user Create a sudo user that won\u0026rsquo;t prompt for password on executing sudo commands.\n#!/bin/bash # Ensure script is run as root if [[ $EUID -ne 0 ]]; then echo \u0026#34;❌ This script must be run as root\u0026#34; exit 1 fi # Prompt for new username read -p \u0026#34;Enter new username: \u0026#34; username # Check if user already exists if id \u0026#34;$username\u0026#34; \u0026amp;\u0026gt;/dev/null; then echo \u0026#34;⚠️ User \u0026#39;$username\u0026#39; already exists.\u0026#34; exit 1 fi # Prompt for password (silent input) read -s -p \u0026#34;Enter password for $username: \u0026#34; password echo read -s -p \u0026#34;Confirm password: \u0026#34; password_confirm echo # Check passwords match if [[ \u0026#34;$password\u0026#34; != \u0026#34;$password_confirm\u0026#34; ]]; then echo \u0026#34;❌ Passwords do not match.\u0026#34; exit 1 fi # Create user with home directory and bash shell useradd -m -s /bin/bash \u0026#34;$username\u0026#34; # Set user password echo \u0026#34;${username}:${password}\u0026#34; | chpasswd # Add user to sudo group usermod -aG sudo \u0026#34;$username\u0026#34; # Create a sudoers file to allow passwordless sudo echo \u0026#34;$username ALL=(ALL) NOPASSWD:ALL\u0026#34; \u0026gt; \u0026#34;/etc/sudoers.d/$username\u0026#34; chmod 440 \u0026#34;/etc/sudoers.d/$username\u0026#34; echo \u0026#34;✅ User \u0026#39;$username\u0026#39; created with bash shell and passwordless sudo access.\u0026#34; ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/linux/scripts/addsudouser/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eScript: add sudo user\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eCreate a sudo user that won\u0026rsquo;t prompt for password on executing sudo commands.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Ensure script is run as root\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[[\u003c/span\u003e $EUID -ne \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e]]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e   echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;❌ This script must be run as root\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e   exit \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Prompt for new username\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eread -p \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Enter new username: \u0026#34;\u003c/span\u003e username\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Check if user already exists\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e id \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u0026amp;\u0026gt;/dev/null; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;⚠️ User \u0026#39;\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; already exists.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    exit \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Prompt for password (silent input)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eread -s -p \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Enter password for \u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e: \u0026#34;\u003c/span\u003e password\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eread -s -p \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Confirm password: \u0026#34;\u003c/span\u003e password_confirm\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Check passwords match\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e[[\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$password\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e !\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$password_confirm\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e]]\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;❌ Passwords do not match.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    exit \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Create user with home directory and bash shell\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003euseradd -m -s /bin/bash \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Set user password\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eusername\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003epassword\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e | chpasswd\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Add user to sudo group\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eusermod -aG sudo \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Create a sudoers file to allow passwordless sudo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e ALL=(ALL) NOPASSWD:ALL\u0026#34;\u003c/span\u003e \u0026gt; \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/etc/sudoers.d/\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003echmod \u003cspan style=\"color:#ae81ff\"\u003e440\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/etc/sudoers.d/\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;✅ User \u0026#39;\u003c/span\u003e$username\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; created with bash shell and passwordless sudo access.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c/div\u003e","tags":null,"title":"scriptSudoUser"},{"categories":null,"contents":" ncdu: Ncdu is a disk usage analyzer with a text-mode user interface. It is designed to find space hogs on a remote server where you don’t have an entire graphical setup available, but it is a useful tool even on regular desktop systems. Ncdu aims to be fast, simple, easy to use, and should be able to run on any POSIX-like system.\ninstall:\nwget https://dev.yorhel.nl/download/ncdu-2.8.1-linux-x86_64.tar.gz tar -xzf ncdu-2.8.1-linux-x86_64.tar.gz sudo mv ncdu /usr/local/bin/ usage:\nncdu \u0026lt;directory_name\u0026gt; ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/tools/ncdu/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003encdu:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eNcdu is a disk usage analyzer with a text-mode user interface. It is designed to find space hogs on a remote server where you don’t have an entire graphical setup available, but it is a useful tool even on regular desktop systems. Ncdu aims to be fast, simple, easy to use, and should be able to run on any POSIX-like system.\u003cbr\u003e\ninstall:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ewget https://dev.yorhel.nl/download/ncdu-2.8.1-linux-x86_64.tar.gz\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etar -xzf ncdu-2.8.1-linux-x86_64.tar.gz\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo mv ncdu /usr/local/bin/\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eusage:\u003c/p\u003e","tags":null,"title":"ncdu"},{"categories":null,"contents":" Python virtual environment: create a virtual environment\npython3 -m venv venv Activate the virtual environment\nsource venv/bin/activate Get out of the virtual environment\ndeactivate ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/coding/python/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003c!-- Project: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003ePython virtual environment:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003ecreate a virtual environment\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython3 -m venv venv\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eActivate the virtual environment\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esource venv/bin/activate\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eGet out of the virtual environment\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edeactivate\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c/div\u003e","tags":null,"title":"Python"},{"categories":null,"contents":" Version control: What is Version Control? Version control systems are tools that manage changes made to files and directories in a project. They allow you to keep track of what you did when, undo any changes you decide you don\u0026rsquo;t want, and collaborate at scale with others. This cheat sheet focuses on one of the most popular one, Git.\nDefinitions: Basic definition Local repo or repository:\nA local directory containing code and files for the project Remote repository:\nAn online version of the local repository hosted on services like GitHub, GitLab, and BitBucket Cloning:\nThe act of making a clone or copy of a repository in a new directory Commit:\nA snapshot of the project you can come back to Branch:\nA copy of the project used for working in an isolated environment without affecting the main project Git merge:\nThe process of combining two branches together More advanced definition .gitignore file:\nA file that lists other files you want git not to track (e.g. large data folders, private info, and any local files that shouldn’t be seen by the public) Staging area:\na cache that holds changes you want to commit next Git stash:\nanother type of cache that holds unwanted changes you may want to come back later Commit ID or hash:\na unique identifier for each commit, used for switching to different save points HEAD (always capitalized letters):\na reference name for the latest commit, to save you having to type Commit IDs. HEADn syntax is used to refer to older commits (e.g. HEAD2 refers to the second-to-last commit) How to install: On OS X or Windows — Using an installer\nDownload the installer Follow the prompts On OS X — Using Homebrew brew install git On Linux\nsudo apt-get install git Check if installation successful (On any platform)\ngit --version Configuration: If you are working in a team on a single repo, it is important for others to know who made certain changes to the code. So, Git allows you to set user credentials such as name, email, etc..\nbasic information Configure your email git config user.email [your.email@domain.com] Configure your name git config user.name [your-name] Important tags to determine the scope of configurations, Git lets you use tags to determine the scope of the information you’re using during setup\nLocal directory, single project (this is the default tag) git config --local user.email “my_email@example.com” All git projects under the current user git config --global user.email “my_email@example.com” For all users on the current machine git config --system user.email “my_email@example.com” List configurations List all key-value configurations\ngit config --list Get the value of a single key git config --get \u0026lt;key\u0026gt; Setting aliases Create an alias named gc for the “git commit” command git config --global alias.gc commit Example usage:\ngc -m \u0026#34;New commit\u0026#34; Create an alias named ga for the “git add” command git config --global alias.ga add Managing repos: Creating local repositories Clone a repository from remote hosts (GitHub, GitLab, DagsHub, etc.) git clone \u0026lt;remote_repo_url\u0026gt; Initialize git tracking inside the current directory git init Create a git-tracked repository inside a new directory git init [dir_name] Clone only a specific branch git clone -branch \u0026lt;branch_name\u0026gt; \u0026lt;repo_url\u0026gt; Cloning into a specified directory git clone \u0026lt;repo_url\u0026gt; \u0026lt;dir_name\u0026gt; Managing remote repositories List remote repos git remote Create a new connection called to a remote repository on servers like GitHub, GitLab, DagsHub, etc git remote add \u0026lt;remote\u0026gt; \u0026lt;url_to_remote\u0026gt; Remove a connection to a remote repo called git remote rm \u0026lt;remote\u0026gt; Rename a remote connection git remote rename \u0026lt;old_name\u0026gt; \u0026lt;new_name\u0026gt; Handling files: Adding and removing files Add a file or directory to git for tracking git add \u0026lt;filename_or_dir\u0026gt; Add all untracked and tracked files inside the current directory to git git add . Remove a file from a working directory or staging area git rm \u0026lt;filename_or_dir\u0026gt; Saving and working with changes See changes in the local repository git status Saving a snapshot of the staged changes with a custom message git commit -m “[Commit message]” Staging changes in all tracked files and committing with a message git add -am “[Commit message]” Editing the message of the latest commit git commit --amend -m “[New commit message]” A note on stashes Git stash allows you to temporarily save edits you\u0026rsquo;ve made to your working copy so you can return to your work later. Stashing is especially useful when you are not yet ready to commit changes you\u0026rsquo;ve done, but would like to revisit them at a later time.\nSaving staged and unstaged changes to stash for a later use git stash Stashing staged, unstaged and untracked files as well git stash -u Stashing everything (including ignored files) git stash --all Reapply previously stashed changes and empty the stash git stash pop Reapply previously stashed changes and keep the stash git stash apply Dropping changes in the stash git stash drop Show uncommitted changes since the last commit git diff Show the differences between two commits (should provide the commit IDs) git diff \u0026lt;id_1\u0026gt; \u0026lt;id_2\u0026gt; Branches: List all branches git branch git branch --list git branch -a Create a new local branch named new_branch without checking out that branch git branch \u0026lt;new_branch\u0026gt; Switch into an existing branch named git checkout \u0026lt;branch\u0026gt; Create a new local branch and switch into it git checkout -b \u0026lt;new_branch\u0026gt; Safe delete a local branch (prevents deleting unmerged changes) git branch -d \u0026lt;branch\u0026gt; Force delete a local branch (whether merged or unmerged) git branch -D \u0026lt;branch\u0026gt; Rename the current branch to \u0026lt;new_name\u0026gt; git branch -m \u0026lt;new_name\u0026gt; Push a copy of local branch named branch to the remote repo git push \u0026lt;remote_repo\u0026gt; branch~ Delete a remote branch named branch git push \u0026lt;remote_repo\u0026gt; :branch git push \u0026lt;remote_repo\u0026gt; --delete branch Merging a branch into the main branch git checkout main git merge \u0026lt;other_branch\u0026gt; Merging a branch and creating a commit message git merge --no-ff \u0026lt;other_branch\u0026gt; Compare the differences between two branches git diff \u0026lt;branch_1\u0026gt; \u0026lt;branch_2\u0026gt; Compare a single between two branches git diff \u0026lt;branch_1\u0026gt; \u0026lt;branch_2\u0026gt; \u0026lt;file\u0026gt; Handle commits: Pulling changes Download all commits and branches from the without applying them on the local repo git fetch \u0026lt;remote\u0026gt; Only download the specified from the git fetch \u0026lt;remote\u0026gt; \u0026lt;branch\u0026gt; Merge the fetched changes if accepted git merge \u0026lt;remote\u0026gt;/\u0026lt;branch\u0026gt; A more aggressive version of fetch which calls fetch and merge simultaneously git pull \u0026lt;remote\u0026gt; Review work with logs List all commits with their author, commit ID, date and message git log List one commit per line (-n tag can be used to limit the number of commits displayed (e.g. -5)) git log --oneline [-n] Log all commits with diff information: git log --stat Log commits after some date git log --oneline --after=”YYYY-MM-DD\u0026#34; Log commits before some date git log --oneline --before=”last year” Reverse changes Checking out (switching to) older commits git checkout HEAD~2 Checks out the third-to-last commit git checkout \u0026lt;commit_id\u0026gt; Undo the latest commit but leave the working directory unchanged You can undo as many commits as you want by changing the number after the tilde git reset HEAD~1 Discard all changes of the latest commit (no easy recovery) Instead of HEAD~n, you can provide commit hash as well. Changes after that commit will be destroyed git reset --hard HEAD~1 Undo a single given commit, without modifying commits that come after it (a safe reset) git revert [commit_id] sources: DatacampCheatsheet\nGitlabCheatsheet ","date":"January 1, 0001","hero":"/images/default-hero.jpg","permalink":"https://siemforge.xyz/notes/coding/git/","summary":"\u003cdiv style=\"display: block; width: 100%; max-width: none;\"\u003e\n\u003c!-- Intro: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eVersion control:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch1 id=\"what-is-version-control\"\u003eWhat is Version Control?\u003c/h1\u003e\n\u003cp\u003eVersion control systems are tools that manage changes made to files and directories in a project. They allow you to keep track of what you did when, undo any changes you decide you don\u0026rsquo;t want, and collaborate at scale with others. This cheat sheet focuses on one of the most popular one, Git.\u003c/p\u003e\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Definitions: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eDefinitions:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003ch1 id=\"basic-definition\"\u003eBasic definition\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eLocal repo or repository:\u003cbr\u003e\nA local directory containing code and files for the project\u003c/li\u003e\n\u003cli\u003eRemote repository:\u003cbr\u003e\nAn online version of the local repository hosted on services like GitHub, GitLab, and BitBucket\u003c/li\u003e\n\u003cli\u003eCloning:\u003cbr\u003e\nThe act of making a clone or copy of a repository in a new directory\u003c/li\u003e\n\u003cli\u003eCommit:\u003cbr\u003e\nA snapshot of the project you can come back to\u003c/li\u003e\n\u003cli\u003eBranch:\u003cbr\u003e\nA copy of the project used for working in an isolated environment without affecting the main project\u003c/li\u003e\n\u003cli\u003eGit merge:\u003cbr\u003e\nThe process of combining two branches together\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"more-advanced-definition\"\u003eMore advanced definition\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e.gitignore file:\u003cbr\u003e\nA file that lists other files you want git not to track (e.g. large data folders, private info, and any local files that shouldn’t be seen by the public)\u003c/li\u003e\n\u003cli\u003eStaging area:\u003cbr\u003e\na cache that holds changes you want to commit next\u003c/li\u003e\n\u003cli\u003eGit stash:\u003cbr\u003e\nanother type of cache that holds unwanted changes you may want to come back later\u003c/li\u003e\n\u003cli\u003eCommit ID or hash:\u003cbr\u003e\na unique identifier for each commit, used for switching to different save points\u003c/li\u003e\n\u003cli\u003eHEAD (always capitalized letters):\u003cbr\u003e\na reference name for the latest commit, to save you having to type Commit IDs. HEAD\u003cdel\u003en syntax is used to refer to older commits (e.g. HEAD\u003c/del\u003e2 refers to the second-to-last commit)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n            \u003c/div\u003e\n        \n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- Install: --\u003e\n\u003cdiv class=\"note-card \"\u003e\n    \u003cdiv class=\"item\"\u003e\n        \u003ch5 class=\"note-title\"\u003e\u003cspan\u003eHow to install:\u003c/span\u003e\u003c/h5\u003e\n        \n            \u003cdiv class=\"card\"\u003e\n                \u003cdiv class=\"card-body\"\u003e\u003cp\u003eOn OS X or Windows — Using an installer\u003c/p\u003e","tags":null,"title":"GIT"},{"categories":null,"contents":"TCPDump deepdive for Linux engineers As a SIEM platform administrator, one of the most invaluable tools in my troubleshooting arsenal is tcpdump. It allows the user to display TCP/IP and other packets being transmitted or received over a network. Despite its simplicity, it is incredibly powerful for debugging complex network issues, monitoring traffic, or simply learning how different protocols behave.\nWhy use tcpdump Real-time packet inspection Lightweight and scriptable No need for a GUI Useful for security auditing and troubleshooting How to install tcpdump On Debian/Ubuntu-based systems:\nsudo apt update \u0026amp;\u0026amp; sudo apt install tcpdump On RHEL/CentOS (YUM-based systems):\nsudo yum install tcpdump On Fedora/DNF-based systems:\nsudo dnf install tcpdump From Source:\nsudo apt install libpcap-dev gcc make -y wget http://www.tcpdump.org/release/tcpdump-4.99.4.tar.gz tar -xvzf tcpdump-4.99.4.tar.gz cd tcpdump-4.99.4 ./configure make sudo make install Basic usage examples Capture traffic on eth0\ntcpdump -i eth0 Capture only TCP packets\ntcpdump -i eth0 tcp Capture packets from a specific host\ntcpdump -i eth0 host 192.168.1.100 Save captured data to a file\ntcpdump -i eth0 -w capture.pcap Read from a saved capture file\ntcpdump -r capture.pcap Limit the number of packets\ntcpdump -i eth0 -c 100 Filter by port\ntcpdump -i eth0 port 443 Verbose output with hex\ntcpdump -XX -i eth0 Display packet timestamp in readable format\ntcpdump -tttt -i eth0 Real-World Example: Debugging HTTP Requests\ntcpdump -i eth0 -nn -s 0 -v tcp port 80 This captures HTTP requests in verbose mode, disables hostname and port name resolution, and captures the entire packet.\nSecurity consideration You need elevated privileges to run tcpdump. Consider creating a dedicated group or using capabilities:\nsudo setcap cap_net_raw,cap_net_admin=eip $(which tcpdump) Important notice! During troubleshooting, I encountered an issue on two occasions where no logs were received. Further investigation with tcpdump revealed insights into the packets that were received. When comparing incoming data, it was observed that the data had a length greater than zero, whereas the other log source only showed packets of length zero. After restarting the syslog service on the host that stopped sending data, new data was successfully ingested into our SIEM.\nPlease note that a packet length of zero can indicate two possibilities: the data might be encrypted, or, as in the example provided, the packets could be used to maintain the connection (keep-alive packets).\nConclusion Whether you\u0026rsquo;re a network administrator, security professional, or developer, tcpdump is a skill worth mastering. Its ability to dissect network traffic at the most granular level makes it indispensable in any Linux environment.\nCheatsheet A more extensive cheatsheet can be found here: TCPDump cheatsheet\n","date":"June 24, 2025","hero":"/images/posts/tcpdump.png","permalink":"https://siemforge.xyz/posts/linux/tcpdump/tcpdumppost/","summary":"\u003ch1 id=\"tcpdump-deepdive-for-linux-engineers\"\u003eTCPDump deepdive for Linux engineers\u003c/h1\u003e\n\u003cp\u003eAs a SIEM platform administrator, one of the most invaluable tools in my troubleshooting arsenal is tcpdump. It allows the user to display TCP/IP and other packets being transmitted or received over a network. Despite its simplicity, it is incredibly powerful for debugging complex network issues, monitoring traffic, or simply learning how different protocols behave.\u003c/p\u003e\n\u003ch2 id=\"why-use-tcpdump\"\u003eWhy use tcpdump\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eReal-time packet inspection\u003c/li\u003e\n\u003cli\u003eLightweight and scriptable\u003c/li\u003e\n\u003cli\u003eNo need for a GUI\u003c/li\u003e\n\u003cli\u003eUseful for security auditing and troubleshooting\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"how-to-install-tcpdump\"\u003eHow to install tcpdump\u003c/h2\u003e\n\u003cp\u003eOn Debian/Ubuntu-based systems:\u003c/p\u003e","tags":null,"title":"TCPDump"},{"categories":null,"contents":"Deepdive into LVM (Logical Volume Manager) What is LVM? LVM stands for Logical Volume Manager, a device mapper framework that provides logical volume management for the Linux kernel. LVM allows administrators to create, resize, and delete volumes dynamically, offering more flexibility than traditional partitioning schemes.\nWhy use LVM? Dynamic resizing: Easily resize (extend/reduce) logical volumes without unmounting. Snapshot support: Create point-in-time snapshots for backup or testing. Volume grouping: Aggregate multiple physical devices into a single storage pool. Migration: Move volumes across physical devices live. Flexibility: Logical volumes can span across multiple disks. LVM architecture Physical Volume (PV): Raw physical storage (disk, partition, etc). Volume Group (VG): Pool of storage formed by combining multiple PVs. Logical Volume (LV): Virtual partition formed from a part of the VG. Physical Extents (PE): Smallest unit of storage on a PV, a block within the partition/volume Logical Extents (LE): Mapped 1:1 to PEs for simplicity. Comparison: LVM vs traditional partitioning Feature LVM Traditional Partitioning Resizing Volumes Dynamic Static Snapshots Yes No Disk Spanning Yes (via VGs) No Performance Overhead Slight (negligible in most) None Complexity Moderate Low Alternatives ZFS: Advanced file system with built-in volume management and redundancy. Btrfs: Modern Linux filesystem with snapshot and RAID features. Traditional partitioning: Simple, low overhead, but limited flexibility. Usecase: LVM for database storage A PostgreSQL database needs fast backups and storage flexibility. With LVM:\nCreate an LV for the database. Use lvcreate --size 10G. Take snapshots before major upgrades: lvcreate --snapshot. Extend storage as DB grows with lvextend. Important! Extending a logical volume increases the underlying block device size, but the filesystem itself must also be explicitly resized to utilize the newly allocated space. Without this step, the additional storage remains unavailable to the operating system and applications.\nXFS\nXFS filesystems must be mounted to resize. Use xfs_growfs on the mount point\nxfs_growfs /path/to/your/mount/point. ext filesystems\nFor ext-based filesystems (ext2/3/4), you can resize the filesystem either by targeting the block device or the mount point (if already mounted)\nresize2fs /dev/vg_name/lv_name # or resize2fs /mount/point Cheatsheet A more extensive cheatsheet can be found here: LVM cheatsheet\n","date":"June 22, 2025","hero":"/images/posts/lvmlogo.png","permalink":"https://siemforge.xyz/posts/linux/lvm/lvmpost/","summary":"\u003ch1 id=\"deepdive-into-lvm-logical-volume-manager\"\u003eDeepdive into LVM (Logical Volume Manager)\u003c/h1\u003e\n\u003ch2 id=\"what-is-lvm\"\u003eWhat is LVM?\u003c/h2\u003e\n\u003cp\u003eLVM stands for \u003cstrong\u003eLogical Volume Manager\u003c/strong\u003e, a device mapper framework that provides logical volume management for the Linux kernel. LVM allows administrators to create, resize, and delete volumes dynamically, offering more flexibility than traditional partitioning schemes.\u003c/p\u003e\n\u003ch2 id=\"why-use-lvm\"\u003eWhy use LVM?\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eDynamic resizing\u003c/strong\u003e: Easily resize (extend/reduce) logical volumes without unmounting.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSnapshot support\u003c/strong\u003e: Create point-in-time snapshots for backup or testing.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eVolume grouping\u003c/strong\u003e: Aggregate multiple physical devices into a single storage pool.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMigration\u003c/strong\u003e: Move volumes across physical devices live.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFlexibility\u003c/strong\u003e: Logical volumes can span across multiple disks.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"lvm-architecture\"\u003eLVM architecture\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/images/posts/lvm.png\" alt=\"LVM Architecture\"\u003e\u003c/p\u003e","tags":null,"title":"LVM"},{"categories":null,"contents":"My first steps into automation with AI agents using n8n Setting the stage: n8n in my homelab As someone constantly tinkering in my Proxmox-based homelab, I recently decided to explore workflow automation with AI agents using n8n — a powerful, self-hostable automation tool that connects anything to everything.\nTo get started, I spun up a new container and installed n8n via Portainer, running it in Docker. For anyone looking to do the same, here\u0026rsquo;s the official n8n install guide for Docker and Portainer:\nInstall n8n with Docker \u0026amp; Portainer\nLink to environment variables\nTrial and error: The hands-on approach Initially, I went in completely blind. I began dragging in random nodes, loosely configuring them, and hoped for some magic.\nSpoiler: it didn’t work.\nI kept hitting walls — nodes not connecting, credentials misbehaving, and the dreaded “nothing happened” moments. But each small failure taught me a bit more about how n8n thinks and how its workflows execute.\n💡 The language learning idea While experimenting, I had a lightbulb moment: why not use AI to help me learn a new language?\nHere was the concept:\nSchedule a daily trigger Use an AI agent to ask a chatmodel (e.g., Google Gemini) for a new sentence in the target language Include translation, pronunciation, grammar, and spelling tips Send the output to a Discord channel via webhook This felt like the perfect fusion of AI, automation, and a personal need.\nTurning to tutorials Realizing I needed a stronger foundation, I dove into some n8n tutorials:\nYour First n8n Workflow\nThis tutorial helped me understand how to structure a simple workflow from trigger to output.\nIntro to Advanced AI Workflows\nThis one introduced the concept of using AI models within workflows — exactly what I needed.\nAfter going through these, things started to click.\nThe first major roadblock I created my workflow: a Schedule Trigger connected to an AI agent and ending in a Discord webhook. It worked beautifully when I ran it manually, but… nothing happened when the scheduled time passed.\nProblem: The Schedule Trigger didn’t fire on its own.\nSolution: My Docker container was running, but n8n wasn’t in active/production mode. I updated my Docker container\u0026rsquo;s environment variables: N8N_EXECUTIONS_MODE=own TZ=Europe/Brussels (to match my timezone) I also switched the trigger from interval to cron (45 9 * * *) for reliability. Finally, I ensured the workflow was activated and saved. After these changes, the scheduled execution worked like a charm.\nEarly results \u0026amp; simplifying things Initially, I tried to go way too complex — chaining advanced AI nodes, formatting logic, and conditionals. Eventually, I scaled it back to something simpler just to start getting data flowing and build confidence.\nThe minimal setup: Schedule Trigger → AI Agent → Discord Webhook\nAn AI agent is not fully required as this could have been configured as an automation workflow, this was purely for testing purposes. This project provided value and a great learning experience.\nNext steps \u0026amp; ideas Here’s where I want to take this next:\nInteractive Discord bot: Respond to messages in a channel, maybe even answer grammar questions. Clean-up logic: Automatically delete older language messages to keep the channel fresh. Add memory node: Track which sentences have already been sent and avoid duplicates (or regenerate). Logging to Google Sheets: Keep a log of daily sentences and explanations for review. Final thoughts Exploring automation with n8n + AI has been one of the most satisfying and productive rabbit holes I’ve gone down in my homelab journey. With a bit of trial and error, and help from the excellent n8n docs and community, I now have a working system that automates part of my language learning journey — and that’s just the beginning.\nIf you’re on the fence about diving into automation or AI integration, my advice? Just start — even the mistakes are great teachers.\nWant to see more of my homelab experiments? Let me know — happy to keep sharing!\n","date":"June 18, 2025","hero":"/images/posts/n8n.jpg","permalink":"https://siemforge.xyz/posts/automation/n8n/firstautomationworkflow/","summary":"\u003ch1 id=\"my-first-steps-into-automation-with-ai-agents-using-n8n\"\u003eMy first steps into automation with AI agents using n8n\u003c/h1\u003e\n\u003ch2 id=\"setting-the-stage-n8n-in-my-homelab\"\u003eSetting the stage: n8n in my homelab\u003c/h2\u003e\n\u003cp\u003eAs someone constantly tinkering in my \u003cstrong\u003eProxmox-based homelab\u003c/strong\u003e, I recently decided to explore \u003cstrong\u003eworkflow automation with AI agents\u003c/strong\u003e using \u003ca href=\"https://n8n.io/\" target=\"_blank\" rel=\"noopener\"\u003en8n\u003c/a\u003e — a powerful, self-hostable automation tool that connects anything to everything.\u003c/p\u003e\n\u003cp\u003eTo get started, I spun up a new container and installed \u003cstrong\u003en8n via Portainer\u003c/strong\u003e, running it in Docker. For anyone looking to do the same, here\u0026rsquo;s the official n8n install guide for Docker and Portainer:\u003c/p\u003e","tags":null,"title":"My first automation workflow"},{"categories":null,"contents":"Mastering Logrotate: The unsung hero of log management In the trenches of system administration, there\u0026rsquo;s one silent guardian that keeps your disk space from imploding under a mountain of logs: Logrotate. Whether you\u0026rsquo;re wrangling logs on a sprawling Kubernetes cluster or just babysitting a single Linux box, Logrotate ensures your logs don’t spiral out of control.\nIn this deep dive, we’ll explore how Logrotate works, why it’s essential, how to configure it like a pro, and how to troubleshoot when it throws a tantrum.\nWhat is Logrotate? At its core, Logrotate is a Unix utility designed to automatically rotate, compress, and remove log files. Think of it as your log janitor — sweeping away old logs, zipping them up neatly, and ensuring your system never runs out of space due to runaway logging.\nWhy it matters: Imagine you’re running NGINX on a production server handling thousands of requests per second. Without log rotation, your access and error logs could balloon into gigabytes overnight. That’s a disk I/O nightmare waiting to happen.\nLogrotate configuration: From basics to battle-hardened Logrotate’s power lies in its flexibility. You can define global rules in /etc/logrotate.conf, or per-service rules in /etc/logrotate.d/.\nExample: /etc/logrotate.d/nginx /var/log/nginx/*.log { daily rotate 14 compress delaycompress missingok notifempty create 0640 www-data adm sharedscripts postrotate systemctl reload nginx \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 || true endscript } What each directive does: daily: Rotate logs every day (alternatives: weekly, monthly, or custom intervals).\nrotate 14: Keep 14 archived logs before purging.\ncompress: Gzip old logs to save space.\ndelaycompress: Wait a cycle before compressing (avoids compressing still-used logs).\nmissingok: Don’t freak out if a log file is missing.\nnotifempty: Skip rotation for empty logs.\ncreate 0640 www-data adm: Create new logs with specific permissions.\nsharedscripts: Ensures postrotate only runs once per log group.\npostrotate...endscript: What to do after rotating logs — in this case, gracefully reload NGINX.\nPro Tip: Use copytruncate if your app won’t release the log file handle — useful for apps that don\u0026rsquo;t support log reopening on SIGHUP.\nAutomating with cron Logrotate is typically triggered by cron, so unless you\u0026rsquo;re into manual rotations (why?), make sure this line exists in your cron jobs:\n0 0 * * * /usr/sbin/logrotate /etc/logrotate.conf \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 This runs it daily at midnight. You can customize it further with anacron or systemd timers if you\u0026rsquo;re using newer systems like RHEL 8+ or Ubuntu 22.04+.\nCommon pitfalls and how to debug like a boss Even a veteran sysadmin can get tripped up by Logrotate quirks. Here are some frequent headaches and their antidotes:\nProblem\tfix 🔁 Log not rotating?\tCheck if the cron job runs. Use logrotate -d for dry-run debugging.\n🔒 Permission denied?\tEnsure Logrotate has access (run as root or use sudo).\n❌ Syntax error in config?\tRun logrotate -v /etc/logrotate.conf to see what it’s doing.\n💾 Disk still filling up?\tReduce rotate count or increase compression aggressiveness.\n🔄 App not releasing log files?\tUse copytruncate or restart the service post-rotate.\nDocker Running containers? Docker log files can balloon fast under /var/lib/docker/containers/. You can use logrotate or — better — configure Docker\u0026rsquo;s own json-file driver like this:\n{ \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;50m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } Boom — Docker will auto-rotate logs per container.\nFinal thoughts Logrotate might not be flashy, but it’s a critical piece of your system\u0026rsquo;s hygiene. Treat it like a core dependency — because it is. With smart configurations, regular checks, and a few advanced tweaks, you can keep your logs lean, searchable, and under control.\nWhether you\u0026rsquo;re taming Apache logs, managing containerized chaos, or just keeping your home lab in shape, Logrotate will be your quiet, powerful ally.\nTL;DR cheat sheet Config files: /etc/logrotate.conf, /etc/logrotate.d/*\nCommon flags: daily, rotate, compress, create, copytruncate\nDebug command: logrotate -d /etc/logrotate.conf\nTest manually: logrotate -f /etc/logrotate.conf\nKeep it cron’d: crontab -e\nA more extensive cheatsheet can be found here: Logrotate cheatsheet\nNow go forth and rotate like a boss. 🌀\n","date":"June 6, 2025","hero":"/images/posts/logrotate.jpg","permalink":"https://siemforge.xyz/posts/linux/logrotate/logrotatepost/","summary":"\u003ch1 id=\"mastering-logrotate-the-unsung-hero-of-log-management\"\u003eMastering Logrotate: The unsung hero of log management\u003c/h1\u003e\n\u003cp\u003eIn the trenches of system administration, there\u0026rsquo;s one silent guardian that keeps your disk space from imploding under a mountain of logs: \u003cstrong\u003eLogrotate\u003c/strong\u003e. Whether you\u0026rsquo;re wrangling logs on a sprawling Kubernetes cluster or just babysitting a single Linux box, Logrotate ensures your logs don’t spiral out of control.\u003c/p\u003e\n\u003cp\u003eIn this deep dive, we’ll explore how Logrotate works, why it’s essential, how to configure it like a pro, and how to troubleshoot when it throws a tantrum.\u003c/p\u003e","tags":null,"title":"Logrotate"}]